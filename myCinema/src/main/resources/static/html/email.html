<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <p>Hello %s,
            <br>
            confirm your email adress by clicking the "Confirm" button below.
        </p>

        <button id="confirmButton">Confirm</button>

        <p id="output">Output: </p>


        <script>
            window.onload = () => {
                const confirmButton = document.getElementById('confirmButton');
                const output = document.getElementById('output');


                const request = async() => {
                    const endpoint = '%s';

                    try {
                        const response = await fetch(endpoint, {
                            method: 'GET',
                            headers: {
                                'Content-Type': 'application/json',
                            }
                        });

                        const textResponse = await response.text();

                        if (response.ok) {
                            output.innerHTML += '\nstatus: ' + response.status;
                        } else {
                            output.innerHTML += 'response not ok: ' + textResponse;
                        }
                        
                    } catch(error) {
                        output.innerHTML += 'Output: ' + error;
                    }
                }
                
                confirmButton.onclick = request;
            }
        </script>
    </body>
</html>