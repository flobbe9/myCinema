<!DOCTYPE html>
<html>
    <head>
        <title>myCinemaAdmin | updateMovie</title>
        <meta charset="utf-8">

        <style>
            .status {
                color: green;
            }
        </style>
    </head>
    
    
    <body>
        <h2 th:text="'Update: ' + ${movieContainer.title}"></h2>
        
        <h4>Enter data you want to change:</h4>
        
        <form method="post" action="" th:action="@{/admin/movie/update}" th:object="${movieContainer}">
            <input type="text" id="title" placeholder="New Title" th:field="*{title}">
            <br><br>

            <input type="number" id="duration" placeholder="Duration" th:field="*{duration}">
            <br><br>

            <input type="text" id="localReleaseDate" placeholder="Local release date" onfocus="(this.type='date')" th:field="*{localReleaseDate}">
            <br><br>

            <input type="text" id="localFinishingDate" placeholder="Local finishing date" onfocus="(this.type='date')" th:field="*{localFinishingDate}">
            <br><br>

            <textarea id="synopsis" rows="5" cols="50" placeholder="Synopsis" th:field="*{synopsis}"></textarea>
            <br><br>

            <select id="fsk">
                <option>Select...</option>
                <span th:each="fsk : ${movieWrapper.fsk}">
                    <option th:text="${fsk}" th:value="${fsk}" th:field="*{fsk}"></option>
                </span>
            </select>
            <br><br>

            <select id="version">
                <option>Select...</option>
                <span th:each="version : ${movieWrapper.version}">
                    <option th:text="${version}" th:value="${version}" th:field="*{version}"></option>
                </span>
            </select>
            <br><br>

            <input type="number" id="price" placeholder="Price" th:field="*{price}">
            <br><br>

            <input type="text" id="director" placeholder="Director" th:field="*{director}">
            <br><br>

            <span th:each="member, iter : ${movieWrapper.movieCast}">
                <input type="text" class="cast" th:placeholder="${iter.index + 1 + '. ' + 'Cast member'}" th:field="${movieWrapper.movieCast[__${iter.index}__]}">
                <br>
            </span>
            <br>
            
            <span th:each="genre, iter : ${movieWrapper.genres}">
                <input type="checkbox" class="genres" th:text="${genre}" th:field="${movieWrapper.toggledGenres[__${iter.index}__]}">
            </span>
            <br><br>

            <input type="text" id="trailerLink" placeholder="Trailer link" th:field="*{trailerLink}">
            <br><br>

            <button id="submit" type="submit">Update Movie</button>
            <br><br>

            <span class="status" th:if="${created}">Movie updated.</span>
        </form>
    </body>
</html>